!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.js")}({"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":
/*!*****************************************************************!*\
      !*** ./node_modules/@babel/runtime/helpers/arrayLikeToArray.js ***!
      \*****************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":
/*!******************************************************************!*\
      !*** ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
      \******************************************************************/
/*! no static exports found */function(e,t,r){var n=r(/*! ./arrayLikeToArray */"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e){if(Array.isArray(e))return n(e)}},"./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
      !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
      \***************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"./node_modules/@babel/runtime/helpers/iterableToArray.js":
/*!****************************************************************!*\
      !*** ./node_modules/@babel/runtime/helpers/iterableToArray.js ***!
      \****************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":
/*!******************************************************************!*\
      !*** ./node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
      \******************************************************************/
/*! no static exports found */function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":
/*!******************************************************************!*\
      !*** ./node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
      \******************************************************************/
/*! no static exports found */function(e,t,r){var n=r(/*! ./arrayWithoutHoles */"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),a=r(/*! ./iterableToArray */"./node_modules/@babel/runtime/helpers/iterableToArray.js"),o=r(/*! ./unsupportedIterableToArray */"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),i=r(/*! ./nonIterableSpread */"./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return n(e)||a(e)||o(e)||i()}},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":
/*!***************************************************************************!*\
      !*** ./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js ***!
      \***************************************************************************/
/*! no static exports found */function(e,t,r){var n=r(/*! ./arrayLikeToArray */"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},"./src/index.js":
/*!**********************!*\
      !*** ./src/index.js ***!
      \**********************/
/*! no exports provided */function(e,t,r){"use strict";r.r(t);var n=r(/*! @babel/runtime/helpers/toConsumableArray */"./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=r.n(n),o=r(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(o),l=r(/*! @wordpress/element */"@wordpress/element"),c=r(/*! @wordpress/i18n */"@wordpress/i18n"),s=r(/*! @wordpress/blocks */"@wordpress/blocks"),u=r(/*! @wordpress/block-editor */"@wordpress/block-editor"),d=r(/*! @wordpress/components */"@wordpress/components");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p="BiblioDAM Connect",f="bibliodam-connect",h=Object(l.createElement)("svg",{width:"16.403",height:"19.996",viewBox:"0 0 16.403 19.996",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)("path",{id:"Path_8303","data-name":"Path 8303",d:"M3.281,12.029H2.656a.207.207,0,0,1-.234-.234V8.436A.207.207,0,0,1,2.656,8.2H5.936c1.953,0,2.968.625,2.968,1.875a1.6,1.6,0,0,1-.7,1.562,4.117,4.117,0,0,1-1.172.391c-.234,0-.547.078-.859.078H3.281ZM2.421,2.5a.207.207,0,0,1,.234-.234H5.468a3.268,3.268,0,0,1,1.953.469,1.772,1.772,0,0,1,.625,1.484V4.3c0,1.172-.859,1.718-2.578,1.718H2.656a.207.207,0,0,1-.234-.234V2.5ZM14.372,6.171h0a1.074,1.074,0,0,0-1.64.078l-.156.156a1.073,1.073,0,0,0,.078,1.406,6.488,6.488,0,0,1,1.328,4.218,5.459,5.459,0,0,1-1.406,4.062A5.388,5.388,0,0,1,8.592,17.5H5.233a.43.43,0,0,1-.391-.234l-1.8-2.968H6.639a5.455,5.455,0,0,0,3.046-.781c.234-.156.469-.391.7-.547A3.778,3.778,0,0,0,11.4,10.31a3.205,3.205,0,0,0-.781-2.265,4.653,4.653,0,0,0-1.64-1.094.163.163,0,0,1,0-.312h0a.077.077,0,0,0,.078-.078c.078-.078.234-.156.547-.391A2.806,2.806,0,0,0,10.623,4.3V3.671a3.419,3.419,0,0,0-1.015-2.5A3.331,3.331,0,0,0,8.045.234,11.32,11.32,0,0,0,5.546,0H.625A.672.672,0,0,0,0,.625V13.747a2.08,2.08,0,0,0,.234.937l2.89,4.608a1.407,1.407,0,0,0,1.25.7H8.28c2.734,0,4.765-.7,6.093-2.187A8.209,8.209,0,0,0,16.4,11.951a7.81,7.81,0,0,0-2.031-5.78",fill:"#223e77"}));Object(s.registerBlockType)("bibliodam-connect/bc-block",{title:Object(c.__)(p,f),description:Object(c.__)("Integration of BiblioDAM media onto your WordPress website.",f),icon:{src:h},category:"layout",keywords:[Object(c.__)("Dam",f),Object(c.__)("Picker",f),Object(c.__)("Media",f),Object(c.__)("Video",f),Object(c.__)("Image",f)],attributes:{mediaArray:{type:"array",default:[]},content:{type:"string",source:"html",selector:".shortcode_body"},button:{type:"string",source:"text"},alignment:{type:"string",default:"none"}},edit:function(e){var t,r=e.className,n=e.attributes,o=n.mediaArray,i=n.alignment,c=e.setAttributes,s=function(t){c(m(m({},e.attributes),{},{mediaArray:a()(t)}))},b=function e(t){if(t.data){var r=JSON.parse(t.data);switch(r.request){case"config":damLauncher.handleConfigRequest();break;case"baobabCP":damLauncher.handleBaobabAuthRequest();break;case"selected":case"selected2":var n=r.items.filter((function(e){return"ExistingImage"===e["@type"]||"Video"===e["@type"]}));damLauncher.cl.close(),s(n),window.removeEventListener("message",e,!0);break;case"selected-article":case"selected-article2":let t=[];r.items.forEach((function(e){e.hasOwnProperty("media")&&e.media.forEach((function(e){"ExistingImage"!==e["@type"]&&"Video"!==e["@type"]||t.push(e)}))})),damLauncher.cl.close(),s(t),window.removeEventListener("message",e,!0)}}},f=function(){damLauncher.popupWithUrl("".concat(damLauncher.cfg.domain).concat(damLauncher.cfg.searchFrag)),window.addEventListener("message",b,!0)},g=function(t){e.setAttributes({alignment:void 0===t?"none":t})};return o.length>0?Object(l.createElement)("div",{className:r,align:i},0===(t=o).length?null:"ExistingImage"===t[0]["@type"]?Object(l.createElement)(u.BlockControls,null,Object(l.createElement)(u.BlockAlignmentToolbar,{value:i,onChange:g}),Object(l.createElement)(d.Toolbar,null,Object(l.createElement)(d.Button,{onClick:f,title:p,label:"Replace",value:"Replace",className:"replace_dam"},"Replace Video"))):Object(l.createElement)(u.BlockControls,null,Object(l.createElement)(d.Toolbar,null,Object(l.createElement)(d.Button,{onClick:f,title:p,label:"Replace",value:"Replace",className:"replace_dam"},"Replace Video"))),function(e){return 0===e.length?null:e.map((function(e){switch(e["@type"]){case"ExistingImage":return Object(l.createElement)("figure",{className:"align ".concat(i," wp-block-image size-large")},Object(l.createElement)("img",{src:e.imageURL,alt:e.hasOwnProperty("articleMetadata")&&e.articleMetadata.hasOwnProperty("titleName")?e.articleMetadata.titleName:"No Caption",width:e.width,height:e.height}));case"Video":const t={position:"relative",textAlign:"center"},r={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center"},n={fontSize:"24px",color:"white"};return Object(l.createElement)("figure",{style:t},Object(l.createElement)("img",{src:e.videoThumbnail,alt:"Video Thumbnail"}),Object(l.createElement)("div",{style:r},Object(l.createElement)("div",{style:n},"▶")));default:return null}}))}(o)):Object(l.createElement)("div",{className:r},Object(l.createElement)("div",{className:"components-placeholder block-editor-media-placeholder wp-block-image is-large"},Object(l.createElement)("div",{className:"components-placeholder__label"},Object(l.createElement)("span",{className:"block-editor-block-icon"},h),"Media Select"),Object(l.createElement)("div",{className:"components-placeholder__instructions"},"Select an image or video, pick one from the media library, or search for one."),Object(l.createElement)(d.Button,{className:"button button-large",label:"Change BiblioDam Media",onClick:f},"Select BiblioDAM Media")))},save:function(e){e.className;var t,r=e.attributes,n=r.mediaArray,a=r.alignment;return Object(l.createElement)("div",{className:"media"},0===(t=n).length?null:t.map((function(e){switch(e["@type"]){case"ExistingImage":return Object(l.createElement)("figure",{className:"align ".concat(a," wp-block-image size-large")},Object(l.createElement)("img",{src:e.imageURL,alt:e.hasOwnProperty("articleMetadata")&&e.articleMetadata.hasOwnProperty("titleName")?e.articleMetadata.titleName:"No Caption"}));case"Video":return'[imigino_video url="'+e.url+'" title="'+e.usage.Headline+'"]';default:return null}})))}})},"@wordpress/block-editor":
/*!**********************************************!*\
      !*** external {"this":["wp","blockEditor"]} ***!
      \**********************************************/
/*! no static exports found */function(e,t){!function(){e.exports=this.wp.blockEditor}()},"@wordpress/blocks":
/*!*****************************************!*\
      !*** external {"this":["wp","blocks"]} ***!
      \*****************************************/
/*! no static exports found */function(e,t){!function(){e.exports=this.wp.blocks}()},"@wordpress/components":
/*!*********************************************!*\
      !*** external {"this":["wp","components"]} ***!
      \*********************************************/
/*! no static exports found */function(e,t){!function(){e.exports=this.wp.components}()},"@wordpress/element":
/*!******************************************!*\
      !*** external {"this":["wp","element"]} ***!
      \******************************************/
/*! no static exports found */function(e,t){!function(){e.exports=this.wp.element}()},"@wordpress/i18n":
/*!***************************************!*\
      !*** external {"this":["wp","i18n"]} ***!
      \***************************************/
/*! no static exports found */function(e,t){!function(){e.exports=this.wp.i18n}()}});