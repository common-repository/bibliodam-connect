!function(t){"use strict";t(document).ready((function(){t(".tip-tool").tooltip({backgroundColor:"#feb701",textColor:"#fff"}),t(".minicolors").minicolors({keywords:"transparent, initial, inherit",letterCase:"uppercase",changeDelay:500}),t(".bibliodam-connect .display-next").each((function(){let e=t(this),a=e.parent().next().next();e.is(":checked")?(a.show(),a.removeClass("hidden-ptx")):(a.hide(),a.addClass("hidden-ptx")),e.on("click",(function(){t(this).parent().parent().toggleClass("no-margin-bottom"),e.is(":checked")?(a.show(),a.removeClass("hidden-ptx")):(a.hide(),a.addClass("hidden-ptx"))}))})),t(".bibliodam-connect").on("click",".upload_image_button",(function(){let e=wp.media.editor.send.attachment,a=t(this);return wp.media.editor.send.attachment=function(i,n){t(a).parent().prev().find("img").attr("src",n.url),t(a).prev().val(n.id),wp.media.editor.send.attachment=e},wp.media.editor.open(a),!1})),t('.bibliodam-connect [class*="slider-pt-"]').each((function(){let e=t(this);e.empty().slider({orientation:"horizontal",range:"max",step:e.prev().data("step"),min:e.prev().data("min"),max:e.prev().data("max"),value:e.prev().data("default"),animate:!0,slide:function(t,a){e.prev().val(a.value)}}),e.prev().val(e.slider("value"))})),t(".bibliodam-connect").on("touchstart click",".accordion-init",(function(){let e=!1,a=t(".accordion-content");if(!e){e=!0;let i=t(this).attr("data-tab");t(".tabs, .tab-content").removeClass("active"),t("#"+i).addClass("active"),t(this).next().find("a").eq(0).addClass("active");let n=t(this).index(".accordion-init"),o=t(".accordion-content-inner").eq(n).outerHeight();t(".accordion-init").removeClass("active"),t(this).addClass("active"),a.stop().animate({height:0},300),a.eq(n).stop().animate({height:o},300),setTimeout((function(){e=!1}),300)}})),t(".bibliodam-connect").on("click",".tabs",(function(){let e=t(this).attr("data-tab");t(".tabs, .tab-content").removeClass("active"),t(this).addClass("active"),t("#"+e).addClass("active")})),t(".bibliodam-connect").on("click",".card-header",(function(){t(this).toggleClass("tab-toggled"),t(this).next().slideToggle()})),t(".bibliodam-connect").on("submit",".plugin-options-form",(function(e){e.preventDefault();let a={action:"save"};a.content=t(".bibliodam-connect .plugin-options-form").serialize(),t.post(dcOptionsObject.ajax_url,{action:"ptx_admin",security:dcOptionsObject._nonce,data:a},(function(t){t.success?iziToast.success({title:"Saved",message:"Successfully saved settings.",position:"topRight",buttons:[["<button>Refresh the page?</button>",function(){location.reload()},!0]]}):iziToast.warning({title:"No Changes?",message:"No settings have changed!",position:"topRight"})}))}))})),t(".bibliodam-connect").on("click",".addon-button",(function(e){e.preventDefault();let a=t(this);a.html("Please wait...");let i={};i.package=a.data("package"),i.addon=a.data("addon"),i.action=a.data("task"),t.post(dcOptionsObject.ajax_url,{action:"ptx_admin",security:dcOptionsObject._nonce,data:i},(function(e){e.success?(a.html("Completed"),location.reload()):(a.html("Error"),t(".bibliodam-connect ."+a.data("addon")+" .addon-message").html(e.data.message).show())}))}))}(jQuery);